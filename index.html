<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ArƒÅnea | Pipeline View</title>
    <!-- Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <!-- Vis.js -->
    <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app-shell">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="sidebar-top">
                <div class="brand-icon"><i class="fa-solid fa-layer-group"></i></div>
                <div class="nav-item active"><i class="fa-solid fa-code-branch"></i></div>
                <div class="nav-item"><i class="fa-solid fa-box-archive"></i></div>
            </div>
            <div class="sidebar-bottom">
                <div class="user-avatar"><span>RN</span></div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="top-bar">
                <div class="breadcrumbs">
                    <span class="crumb-icon"><i class="fa-solid fa-diagram-project"></i></span>
                    <span class="crumb">Pipeline Builder</span>
                    <span class="crumb-separator">/</span>
                    <span class="crumb highlight">Polymarket Strategy Flow</span>
                </div>
                <div class="actions">
                    <button class="btn btn-outline" id="refreshBtn"><i class="fa-solid fa-sync"></i> Refresh</button>
                    <button class="btn btn-primary" onclick="toggleInfo()"><i class="fa-solid fa-save"></i>
                        Save</button>
                </div>
            </header>

            <!-- Workspace (Split Pane) -->
            <div class="workspace">
                <!-- Top: Graph Canvas + Right Sidebar -->
                <section class="graph-pane-container">

                    <!-- Graph Area -->
                    <div class="graph-area">
                        <div class="pane-toolbar floating-left">
                            <div class="tool-group">
                                <button class="tool-btn active" title="Select"><i
                                        class="fa-solid fa-arrow-pointer"></i></button>
                                <button class="tool-btn" title="Pan"><i class="fa-solid fa-hand"></i></button>
                                <button class="tool-btn" title="Eraser"><i class="fa-solid fa-eraser"></i></button>
                            </div>
                        </div>
                        <div id="whale-graph" class="graph-canvas"></div>

                        <!-- Details Panel (Slide-out) -->
                        <div id="details-panel" class="details-panel hidden">
                            <div class="panel-head">
                                <h3 id="panelTitle">Details</h3>
                                <button class="close-btn" onclick="closePanel()"><i
                                        class="fa-solid fa-times"></i></button>
                            </div>
                            <div id="panelContent" class="panel-body"></div>
                        </div>
                    </div>

                    <!-- Right Sidebar (Legend) -->
                    <div class="right-sidebar">
                        <div class="sidebar-header">
                            <h3>Legend</h3>
                            <button class="btn-icon small"><i class="fa-solid fa-chevron-up"></i></button>
                        </div>
                        <div class="legend-content">
                            <div class="legend-row">
                                <span class="legend-box purple"></span>
                                <span class="legend-label">Market Hubs</span>
                                <span class="legend-count">4</span>
                            </div>
                            <div class="legend-row">
                                <span class="legend-box orange"></span>
                                <span class="legend-label">Whales</span>
                                <span class="legend-count" id="activeWhalesLegend">-</span>
                            </div>
                            <div class="legend-row">
                                <span class="legend-box green"></span>
                                <span class="legend-label">Profitable</span>
                            </div>
                            <button class="btn btn-outline btn-sm full-width mt-2"><i class="fa-solid fa-plus"></i> Add
                                Color</button>
                        </div>
                    </div>
                </section>

                <!-- Bottom: Data Grid -->
                <section class="data-pane">
                    <div class="pane-header">
                        <div class="tab-bar">
                            <div class="tab active" onclick="switchTab('opportunities')"><i
                                    class="fa-solid fa-table"></i> Data Preview</div>
                            <div class="tab" onclick="switchTab('whales')"><i class="fa-solid fa-list"></i> Agents</div>
                            <div class="tab" onclick="switchTab('news')"><i class="fa-solid fa-terminal"></i> Logs</div>
                        </div>
                    </div>
                    <div class="table-container">
                        <!-- Tables (Preserved) -->
                        <div id="view-opportunities" class="view-panel">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th width="40">#</th>
                                        <th>Market</th>
                                        <th>Values</th>
                                        <th>Tags</th>
                                    </tr>
                                </thead>
                                <tbody id="opportunitiesTable"></tbody>
                            </table>
                        </div>
                        <div id="view-whales" class="view-panel hidden">
                            <table class="data-table">
                                <tbody id="whalesTable"></tbody>
                            </table>
                        </div>
                        <div id="view-news" class="view-panel hidden">
                            <div class="news-feed" id="newsFeed"></div>
                        </div>
                    </div>
                </section>
            </div>
        </main>

        <!-- Info Modal -->
        <div id="info-modal" class="info-modal hidden">
            <div class="info-content">
                <h3>System Info</h3>
                <p>Pipeline configuration active.</p>
                <button class="btn btn-primary" onclick="toggleInfo()">Close</button>
            </div>
        </div>
    </div>

    <div style="display:none;">
        <input id="yesThreshold" value="0.40">
        <input id="volumeThreshold" value="10000">
    </div>

    <script src="script.js"></script>
</body>

</html>